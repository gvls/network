## 2 `TCP滑动窗口协议`
total `报文` from `application layer` is `编号` in per byte
`报文` is divide to many part and is packaging to `TCP报文段` 



### 3  `发送窗口` 
unit is byte
When host A communication with host B, host A and host B all have `发送窗口` and `接收窗口` 
`发送窗口` of `sender` is decide by `接收窗口` of `receiver` and `网络拥塞程度` (`发送窗口` of `sender` <= `接收窗口` of `receiver` )
assumption right is `前` 
assumption `编号` of data is small to big   from left to right
`发送窗口` is from `后沿` to `前沿` 
data in `发送窗口` can be send by `安顺序连续`  needn't after receive `confirm` of `receiver` 
When after `超时计时器` and not receive `confirm` of `receiver` , data in `发送窗口` will be resend

#### 4   `前沿` 
right is data which **isn't** send and isn't include by `窗口` 
left is data which **may** send and is include by `窗口` 

* don't move
not receive `confirm` of `receiver` 

* move to right
receive `confirm` of `receiver` 


#### 4   `后沿` 
right is data which **may** send and is include by `窗口` 
left is data **already** be send

* don't move
not receive `confirm` of `receiver` and `窗口` of `报文段` which `receiver` send is `constant` 
receive `confirm` of `receiver` but `窗口` of `报文段` which `receiver` send is `smaller` than pre `报文段` 

* move to right
not receive `confirm` of `receiver` and `窗口` of `报文段` which `receiver` send is `bigger` than pre `报文段` 
receive `confirm` of `receiver` and `窗口` of `报文段` which `receiver` send is `bigger` than pre `报文段`

* move to left
it is not advise
`窗口` of `报文段` which `receiver` send is `smaller` than pre `报文段`




### 3  `流量控制` 
control from `port` to `port` 
speed of send by `sender` so not quick that let `receiver` receive data in time
`receiver` use `窗口` to control

* `持续计时器` (avoid `报文段` which `receiver` send is lose)
When `receiver` send `报文段` whose `窗口` is 0, `sender` not send data and run `持续计时器` 
When after `持续计时器` , `sender` send `零窗口探测报文段` to `receiver` 
`receiver` send `报文段` which have current `窗口` of `receiver` to `sender` 
if this `窗口` also is 0, `sender` reset `持续计时器` 
...





### 3  assumption host A send `报文` to host B
`报文` : `1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25` (length of `报文` is 25 byte)
host B send `报文段` whose `窗口` is 10 byte and `ACK` is 11 to host A
`发送窗口` of host A is 20 byte
`后沿` of `发送窗口` of host A is between 10 and 11
`前沿` of `发送窗口` of host A is between 20 and 21
